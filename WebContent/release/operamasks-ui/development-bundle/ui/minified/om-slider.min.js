(function(a){a.fn.omSlider=function(m){var e={slideTo:function(o){return this.each(function(){c=a(this).data("omSlider:opts");f(a(this),o)})},next:function(){return this.each(function(){c=a(this).data("omSlider:opts");d(a(this))})},prev:function(){return this.each(function(){c=a(this).data("omSlider:opts");b(a(this))})}};if(e[m]){return e[m].apply(this,Array.prototype.slice.call(arguments,1))}var h={autoPlay:true,interval:5000,directionNav:false,pauseOnHover:true,controlNav:true,activeNavCls:"nav-selected",effect:"fade",animSpeed:500,startSlide:0,delay:200,onBeforeSlide:function(o){},onAfterSlide:function(o){}};var c=a.extend({},h,m);function g(q,p){var t=q.data("omSlider:vars"),u=q.find("ul.om-slider-content"),o=u.children(),s=0,r=0;if(c.effect=="slide-v"){o.each(function(v){if(v==p){return false}s-=a(this).height()})}else{if(c.effect=="slide-h"){o.each(function(v){if(v==p){return false}r-=a(this).width()})}else{return false}}t.running=true;u.stop().animate({top:s,left:r},c.animSpeed,function(){t.running=false;c.onAfterSlide.call(self,p)})}function i(q,p){var r=q.data("omSlider:vars"),o=q.find("ul.om-slider-content").children();o.each(function(t){var s=a(this);if(t==p){r.running=true;s.fadeIn(c.animSpeed,function(){r.running=false;c.onAfterSlide.call(self,p)})}else{if(t==r.currentSlide){s.fadeOut(c.animSpeed)}}})}function j(q,p){var r=q.data("omSlider:vars"),o=q.find("ul.om-slider-content").children();o.each(function(t){var s=a(this);if(t==p){s.show();c.onAfterSlide.call(self,p)}else{if(t==r.currentSlide){s.hide()}}})}function f(r,p){var s=r.data("omSlider:vars");if(isNaN(p)||p<0||p>=s.totalSlides){return}if(c.onBeforeSlide.call(self,p)==false){return false}if(c.effect=="slide-h"||c.effect=="slide-v"){g(r,p)}else{if(c.effect=="fade"||c.effect===true){i(r,p)}else{j(r,p)}}if(s.controlNav){var q=r;if(s.customNav){q=a("body")}var o=q.find(s.controlNav).children();o.each(function(t){a(this).toggleClass(c.activeNavCls,t==p)})}s.currentSlide=p;return r}function d(p){var q=p.data("omSlider:vars"),o=0;if(q.currentSlide+2<=q.totalSlides){o=q.currentSlide+1}return f(p,o)}function b(p){var q=p.data("omSlider:vars"),o=q.totalSlides-1;if(q.currentSlide!=0){o=q.currentSlide-1}return f(p,o)}function k(p){var q=p.data("omSlider:vars"),o=a('<div class="om-slider-directionNav">').appendTo(p);a('<a class="om-slider-prevNav"></a>').appendTo(o).click(function(){if(q.running){return false}b(p)});a('<a class="om-slider-nextNav"></a>').appendTo(o).click(function(){if(q.running){return false}d(p)});p.hover(function(){o.show()},function(){o.hide()})}function l(r){var s=r.data("omSlider:vars");if(c.controlNav===true||c.controlNav==="classical"){var o=a('<ul class="om-slider-nav-classical"></ul>');s.controlNav=".om-slider-nav-classical";for(n=0;n<s.totalSlides;n++){var p=a("<li>"+(n+1)+"</li>");p.data("sid",n);var q=0;p.click(function(){f(r,a(this).data("sid"))});p.hover(function(){if(s.running){return false}var t=a(this);if(t.hasClass(c.activeNavCls)){return false}q=setTimeout(function(){f(r,t.data("sid"))},c.delay)},function(){clearTimeout(q)});o.append(p)}r.append(o)}else{if(c.controlNav==="dot"){var o=a('<div class="om-slider-nav-dot"></div>');s.controlNav=".om-slider-nav-dot";for(n=0;n<s.totalSlides;n++){var p=a('<a href="javascript:void(0)">'+(n+1)+"</a>");p.data("sid",n);var q=0;p.click(function(){f(r,a(this).data("sid"))});p.hover(function(){if(s.running){return false}var t=a(this);if(t.hasClass(c.activeNavCls)){return false}q=setTimeout(function(){f(r,t.data("sid"))},c.delay)},function(){clearTimeout(q)});o.append(p)}o.appendTo(r).css({marginLeft:-1*o.width()/2})}else{if(a(c.controlNav).length>0){s.controlNav=c.controlNav;s.customNav=true;var o=a(c.controlNav);o.children().each(function(v){var t=a(this);t.data("sid",v);var u=0;t.click(function(){f(r,a(this).data("sid"))});t.hover(function(){if(s.running){return false}var w=a(this);if(w.hasClass(c.activeNavCls)){return false}u=setTimeout(function(){f(r,w.data("sid"))},c.delay)},function(){clearTimeout(u)})})}}}}return this.each(function(){var s=0;var r=a(this);var q={currentSlide:0,totalSlides:0,running:false,paused:false,stop:false,controlNav:".om-slider-nav-classical"};var p=r.data("omSlider");if(p){return p}r.data("omSlider",r);r.data("omSlider:vars",q);r.data("omSlider:opts",c);r.addClass("om-slider");if(c.startSlide>0){q.currentSlide=c.startSlide}var o=r.children();o.wrapAll('<ul class="om-slider-content"></ul>').wrap('<li class="om-slider-item"></li>');if(c.effect=="slide-v"||c.effect=="slide-h"){r.find(".om-slider-content").addClass("om-slider-effect-"+c.effect)}q.totalSlides=o.length;l(r);f(r,q.currentSlide);if(c.autoPlay){s=setInterval(function(){d(r)},c.interval)}if(c.pauseOnHover){r.hover(function(){q.paused=true;clearInterval(s)},function(){q.paused=false;if(c.autoPlay){s=setInterval(function(){d(r)},c.interval)}})}if(c.directionNav){k(r)}})}})(jQuery);